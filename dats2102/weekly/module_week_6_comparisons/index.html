<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Week 6 ‚Äî Comparisons - DATS 2102</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">DATS 2102</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../syllabus/" class="nav-link">Syllabus</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../course_modules/" class="nav-link">Modules</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#week-6-comparisons" class="nav-link">Week 6 ‚Äî Comparisons</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#background-motivation" class="nav-link">üìñ Background &amp; Motivation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#learning-objectives" class="nav-link">üîé Learning Objectives</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#readings-resources" class="nav-link">üìö Readings &amp; Resources</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#setup-checklist" class="nav-link">üõ†Ô∏è Setup Checklist</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#lecture-outline" class="nav-link">üß≠ Lecture Outline</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#starter-notebook-snippets" class="nav-link">üíª Starter Notebook Snippets</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#in-class-activity" class="nav-link">üß™ In-Class Activity</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#homework" class="nav-link">üè† Homework</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#optional-extensions" class="nav-link">üß© Optional Extensions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#submission-checklist" class="nav-link">‚úÖ Submission Checklist</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="week-6-comparisons">Week 6 ‚Äî Comparisons</h1>
<blockquote>
<p>Designing fair and effective comparisons across categories, groups, and time.</p>
</blockquote>
<hr />
<h2 id="background-motivation">üìñ Background &amp; Motivation</h2>
<p>Most insight in data science comes from <strong>comparing</strong> things: groups, treatments, time periods, geographies, and models. Good comparison graphics make differences and similarities <strong>immediately legible</strong> without misleading the audience. This week focuses on selecting the right comparison design (bars, dot plots, slope charts, small multiples), aligning scales and baselines, and avoiding visual pitfalls that distort comparisons.</p>
<hr />
<h2 id="learning-objectives">üîé Learning Objectives</h2>
<ul>
<li>Choose appropriate designs for category and time comparisons (grouped bars, dot plots, slope charts, small multiples).</li>
<li>Align scales, baselines, and axes to ensure fair comparisons.</li>
<li>Normalize data (per capita, percent change, index to baseline) when appropriate.</li>
<li>Use faceting and small multiples to reduce clutter and increase clarity.</li>
<li>Add clear annotations and ordering to emphasize key contrasts.</li>
</ul>
<hr />
<h2 id="readings-resources">üìö Readings &amp; Resources</h2>
<ul>
<li><em>Fundamentals of Data Visualization</em> ‚Äî chapters on comparisons &amp; small multiples.</li>
<li>Seaborn: <a href="https://seaborn.pydata.org/tutorial/categorical.html">Categorical plots</a>, <a href="https://seaborn.pydata.org/generated/seaborn.FacetGrid.html">FacetGrid</a></li>
<li>Matplotlib: <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.bar.html">bar charts</a>, <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html">subplots</a></li>
<li>ColorBrewer: <a href="https://colorbrewer2.org/">Choosing palettes</a></li>
</ul>
<p><strong>Sample Data Sources:</strong></p>
<ul>
<li>World Bank indicators (e.g., GDP per capita, life expectancy)</li>
<li>Gapminder (country-level indicators)</li>
<li>Sports/team statistics (season-by-season comparisons)</li>
</ul>
<hr />
<h2 id="setup-checklist">üõ†Ô∏è Setup Checklist</h2>
<p>Ensure your environment includes:</p>
<pre><code class="language-bash">pip install pandas numpy matplotlib seaborn plotly
</code></pre>
<p>First, ensure that the virtual environment is properly created and activated. Then confirm you can import these libraries and render a simple chart before class.</p>
<hr />
<h2 id="lecture-outline">üß≠ Lecture Outline</h2>
<h3 id="session-1-theory-focus">Session 1 (Theory Focus)</h3>
<ol>
<li>When to compare? Framing questions and choosing the right comparison graphic</li>
<li>Bars vs. dot plots: perceptual accuracy and overplotting concerns</li>
<li>Slope charts for before/after and rank changes</li>
<li>Scale, baseline, and normalization (indexing to 100, percent change, per‚Äëcapita)</li>
<li>Small multiples and faceting; ordering and labeling for clarity</li>
<li>Download the Jupyter Notebook and data used in lecture from <a href="../week6/file_list/">this webpage</a></li>
</ol>
<h3 id="session-2-hands-on-focus">Session 2 (Hands-on Focus)</h3>
<ol>
<li>Live coding: grouped bars ‚Üí dot plot refactor</li>
<li>Build a slope chart for a before/after dataset</li>
<li>Create a small multiples view with <code>FacetGrid</code></li>
<li>Mini‚Äëworkshop: add annotations, reorder categories, and test alternative scales</li>
<li>Download the <a href="../week6/Week06_HandsOn_Session2.ipynb">Jupyter Notebook</a> for this session.</li>
</ol>
<hr />
<h2 id="starter-notebook-snippets">üíª Starter Notebook Snippets</h2>
<h3 id="dot-plot-vs-grouped-bars">Dot plot vs. grouped bars</h3>
<pre><code class="language-python">import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

sns.set_theme(style=&quot;whitegrid&quot;)

# toy data: mean score by group and condition
df = pd.DataFrame({
    &quot;group&quot;: [&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;B&quot;,&quot;C&quot;,&quot;C&quot;],
    &quot;condition&quot;: [&quot;Control&quot;,&quot;Treatment&quot;]*3,
    &quot;score&quot;: [72, 78, 65, 74, 81, 85]
})

# Grouped bars
sns.catplot(data=df, kind=&quot;bar&quot;, x=&quot;group&quot;, y=&quot;score&quot;, hue=&quot;condition&quot;)
plt.title(&quot;Grouped Bars&quot;)

# Dot plot (often clearer for two conditions)
sns.catplot(data=df, kind=&quot;point&quot;, x=&quot;group&quot;, y=&quot;score&quot;, hue=&quot;condition&quot;, dodge=True)
plt.title(&quot;Dot Plot Comparison&quot;)
</code></pre>
<h3 id="slope-chart-beforeafter">Slope chart (before/after)</h3>
<pre><code class="language-python">import numpy as np

before = pd.Series([72, 65, 81], index=[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]).rename(&quot;before&quot;)
after = pd.Series([78, 74, 85], index=[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]).rename(&quot;after&quot;)
long = pd.concat([before, after], axis=1).reset_index().melt(id_vars=&quot;index&quot;, var_name=&quot;time&quot;, value_name=&quot;score&quot;)
long = long.rename(columns={&quot;index&quot;:&quot;group&quot;})

plt.figure(figsize=(6,4))
for g, sub in long.groupby(&quot;group&quot;):
    xs = [0, 1]
    ys = sub.sort_values(&quot;time&quot;)[&quot;score&quot;].values
    plt.plot(xs, ys, marker=&quot;o&quot;)
    plt.text(0-0.03, ys[0], g, ha=&quot;right&quot;, va=&quot;center&quot;)
plt.xticks([0,1],[&quot;Before&quot;,&quot;After&quot;])
plt.title(&quot;Slope Chart ‚Äî Before vs After&quot;)
plt.ylabel(&quot;Score&quot;)
plt.grid(axis='y', alpha=.3)
plt.tight_layout()
</code></pre>
<h3 id="small-multiples-with-facetgrid">Small multiples with FacetGrid</h3>
<pre><code class="language-python"># Using Gapminder-like structure
peng = sns.load_dataset(&quot;penguins&quot;).dropna()
fg = sns.FacetGrid(peng, col=&quot;species&quot;, height=3, sharey=True)
fg.map_dataframe(sns.scatterplot, x=&quot;flipper_length_mm&quot;, y=&quot;body_mass_g&quot;, alpha=.7)
fg.set_axis_labels(&quot;Flipper length (mm)&quot;, &quot;Body mass (g)&quot;)
fg.set_titles(col_template=&quot;{col_name}&quot;)
</code></pre>
<h3 id="normalization-indexing-to-a-baseline">Normalization (indexing to a baseline)</h3>
<pre><code class="language-python"># Index each group to its first time value
wide = pd.DataFrame({&quot;t&quot;:[1,2,3,4], &quot;A&quot;:[100,110,108,120], &quot;B&quot;:[100,98,105,112]})
base = wide.loc[0, [&quot;A&quot;,&quot;B&quot;]]
indexed = wide[[&quot;A&quot;,&quot;B&quot;]].divide(base) * 100
indexed[&quot;t&quot;] = wide[&quot;t&quot;]
indexed_m = indexed.melt(&quot;t&quot;, var_name=&quot;series&quot;, value_name=&quot;index&quot;)
sns.lineplot(data=indexed_m, x=&quot;t&quot;, y=&quot;index&quot;, hue=&quot;series&quot;)
plt.axhline(100, color=&quot;k&quot;, lw=.8)
plt.ylabel(&quot;Index (baseline=100)&quot;)
plt.title(&quot;Indexed Comparison&quot;)
</code></pre>
<hr />
<h2 id="in-class-activity">üß™ In-Class Activity</h2>
<ul>
<li>Convert a cluttered grouped‚Äëbar chart into a <strong>dot plot</strong> and explain which communicates differences more clearly.</li>
<li>Build a <strong>slope chart</strong> for a before/after dataset and annotate the largest change.</li>
<li>Create <strong>small multiples</strong> with <code>FacetGrid</code> to compare subgroups on the same scale.</li>
<li>Try at least one <strong>normalization</strong> (percent change or index to baseline) and discuss how it changes the interpretation.</li>
</ul>
<hr />
<h2 id="homework">üè† Homework</h2>
<ol>
<li>Select a dataset with at least two groups and either two conditions or multiple time points.</li>
<li>Produce the following:
   a. One <strong>dot plot</strong> (or refactor from grouped bars) with thoughtful ordering and labels.
   b. One <strong>slope chart</strong> showing before/after or the earliest vs. the latest comparison.
   c. One <strong>small‚Äëmultiples</strong> chart (faceted) on a shared y‚Äëscale.
   d. At least one <strong>normalized</strong> view (percent change or index to baseline).</li>
<li>Add concise annotations and a brief (100‚Äì200 words) discussion of which design best supports your comparison question and why.</li>
<li>Use Quarto to render your notebook and submit the zip file.</li>
</ol>
<p><strong>Rubric (10 pts)</strong></p>
<ul>
<li>Appropriate chart choices for comparison tasks (3)</li>
<li>Scale/baseline alignment and normalization where needed (3)</li>
<li>Clear labeling, ordering, and annotations (2)</li>
<li>Reproducibility and code quality (2)</li>
</ul>
<hr />
<h2 id="optional-extensions">üß© Optional Extensions</h2>
<ul>
<li>Use <code>plotly.express</code> to build an interactive small multiples or animation (e.g., by year).</li>
<li>Explore <strong>ranked dot plots</strong> (ordered by value) and <strong>slopegraphs</strong> with many categories.</li>
<li>Add <strong>confidence intervals</strong> or <strong>error bars</strong> for group comparisons.</li>
</ul>
<hr />
<h2 id="submission-checklist">‚úÖ Submission Checklist</h2>
<p>Before submitting, make sure:</p>
<ul>
<li>Your assignment has fulfilled all the basic requirements listed above.</li>
<li>The visualizations and your reflections in the Jupyter notebook are properly organized and displayed.</li>
<li>Use Quarto to render the notebook into HTML and zip the files for submission.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
